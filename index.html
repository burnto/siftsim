<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
	"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>siftulator sketch</title>
	
	<style type="text/css" media="screen">
	 body {
	   background: white url(images/desktop_wood.jpg);
	 }
	 div.siftable {
     float: left;
	   height: 170px;
	   width: 166px;
	   background: transparent url(images/sift.png) no-repeat center center;
	 }
	 
	 div.siftable canvas {
	   margin: 16px 19px;
	   width: 128px;
	   height: 128px;
	 }
	 
	 form.controls {
	   position: absolute;
	   bottom: 10px;
	   right: 10px;
	 }
	 
	</style>
	
</head>

<body>

<div id="siftables">
  
  
</div>
<form class="controls" action="index_submit" method="get" accept-charset="utf-8">
  <input type="button" name="add" value="+"/>
</form>


<script src="javascripts/jquery-1.3.2.min.js" type="text/javascript"></script>
<script src="javascripts/jquery-ui-1.7.2.custom.min.js" type="text/javascript"></script>
<script src="javascripts/siftables.js" type="text/javascript"></script>
  
<script type="text/javascript" charset="utf-8">

  $(function() {
    var siftables = SiftSim.init("#siftables", {num: 8, tolerance: 15});
    $("form.controls input[name='add']").click(SiftSim.add);

    siftables.loop(function() {
      
    })

    $.each(siftables, function(s) {
      this.neighbor = function(s) {
        s.ctx.fillStyle = "rgb(0,0,0)";
        s.ctx.fillRect(0,0,128,128);
        s.ctx.fillStyle = "rgb(200,0,0)";
        if(s.neighbors.bottom) {
          s.ctx.fillRect(34,104,60,10);
        }
        if(s.neighbors.top) {
          s.ctx.fillRect(34,14,60,10);
        }
        if(s.neighbors.left) {
          s.ctx.fillRect(14,34,10,60);
        }
        if(s.neighbors.right) {
          s.ctx.fillRect(104,34,10,60);
        }
        
        s.ctx.beginPath();
        s.ctx.strokeStyle = 'rgb(0,128,255)';
        s.ctx.lineWidth = 2;
        // s.ctx.fillStyle = ;
        s.ctx.arc(64,64,10,0,Math.PI*2,true);
        s.ctx.stroke();
        
        
        // s.ctx.fillStyle = "rgb(200,0,0)";
        // s.ctx.fillRect(64-10,64-10,20,20);
      }
    })
  })
</script>
  


</body>
</html>
